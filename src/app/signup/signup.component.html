<form (ngSubmit)="onSubmit()" #signUpForm="ngForm">
  <legend> Sign up</legend>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" id="username" class="form-control" [(ngModel)]="userData.username" name="username"
          #username="ngModel" autocomplete="off" required />
        <div [hidden]="username.valid || username.pristine" class="alert alert-danger">
          Username is required
        </div>
      </div>


      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" id="password" class="form-control" [(ngModel)]="userData.password" name="password"
          #password="ngModel" autocomplete="off" required />
        <div [hidden]="password.valid || password.pristine" class="alert alert-danger">
          Password is required
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">

      <div class="form-group">
        <label for="firstName">First name:</label>
        <input type="text" id="firstname" class="form-control" [(ngModel)]="userData.firstName" name="firstname"
          #firstname="ngModel" autocomplete="off" required />
        <div [hidden]="firstname.valid || firstname.pristine" class="alert alert-danger">
          First name is required
        </div>
      </div>
    </div>
    <div class="col">

      <div class="form-group">
        <label for="lastName">Last name:</label>
        <input type="text" id="lastname" class="form-control" [(ngModel)]="userData.lastName" name="lastname"
          #lastname="ngModel" autocomplete="off" required />
        <div [hidden]="lastname.valid || lastname.pristine" class="alert alert-danger">
          Last name is required
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">

      <div class="form-group">
        <label for="dateOfBirth">Date of birth:</label>
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="dateOfBirth" ngbDatepicker
            #d="ngbDatepicker" #c1="ngModel" required>
          <div class="input-group-append">
            <button class="btn btn-outline-secondary oi oi-calendar" (click)="d.toggle()" type="button"></button>
          </div>
        </div>
        <div [hidden]="c1.valid || c1.untouched" class="alert alert-danger">
          Birth date is required
        </div>
      </div>
    </div>
    <div class="col">

      <div class="form-group">
        <label for="FideTitle">Highest FIDE title: </label>
        <select [(ngModel)]="userData.fideTitle" id="title" name="title" class="form-control">
          <option value="NONE">None</option>
          <option *ngFor="let fideTitle of fideTitles" [value]="fideTitle">{{fideTitle}}</option>
        </select>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="form-group">
        <label for="Country">Select your country</label>
        <select [(ngModel)]="userData.country" id="country" name="country" class="form-control" required>
            <option value="">None</option>
            <option *ngFor="let country of countries" [value]="country">{{country}}</option>
          </select>
      </div>
    </div>
    <div class="col">
      <div class="form-group">
        <label for="avatar">Upload your avatar:</label>
        <input type="file" class="form-control-file" name="avatar" (change)="onFileChange($event)" />
      </div>
    </div>
  </div>
  <div [hidden]="username.valid || username.pristine" class="alert alert-danger">
      Username is required
  </div>
  <div *ngIf="userAlreadyExists" class="alert alert-danger">
      User already exists
  </div>
  <div *ngIf="signUpError" class="alert alert-danger">
      Sign up error
  </div>
  <button class="btn btn-success" [disabled]="!signUpForm.form.valid">
    Sign up
  </button>
  <!-- <div *ngIf="invalidLogin" class="error">
        <div>Invalid credentials.</div>
      </div> -->
</form>
